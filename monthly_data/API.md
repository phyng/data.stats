月度数据API
========

## Meta
URL：http://data.stats.gov.cn/workspace/index?m=hgyd
~~~python
###示例代码依赖包
import json
import requests
def printjson(jsons):
    '''pretty print json'''
    print json.dumps(jsons, sort_keys=True, indent=2, ensure_ascii=False)
~~~

### API0，一级目录
~~~python
api0 = 'http://data.stats.gov.cn/quotas/init'
payload = {'dbcode':'hgyd','dimension':'zb'}
r = requests.get(url = api0, params=payload)
print printjson(r.json())
~~~

~~~json
[
  {
    "ename": "价格指数", 
    "id": "A01", 
    "ifData": "0", 
    "isParent": true, 
    "name": "价格指数", 
    "pId": "1"
  }, 
  ……
~~~


### API1，二级目录
~~~python
api1 = 'http://data.stats.gov.cn/quotas/getchildren'
#code来自API0，code=A01-A09, A0A, A0B
payload = {'code':'A0B', 'levle':1, 'dbcode':'hgyd', 'dimension':'zb'}
r = requests.get(url = api1, params=payload)
print printjson(r.json())
~~~

~~~json
[
  {
    "id": "A0101", 
    "ifData": "0", 
    "isParent": true, 
    "name": "居民消费价格分类指数(上年同月=100)", 
    "pId": "A01"
  }, 
  ……
~~~

### API2，三级目录
~~~python
api2 = 'http://data.stats.gov.cn/quotas/getchildren'
#code来自上级目录
payload = {'code':'A0101', 'levle':2, 'dbcode':'hgyd', 'dimension':'zb'}
r = requests.get(url = api1, params=payload)
print printjson(r.json())
~~~

~~~json
[
  {
    "id": "A010101", 
    "ifData": "4", 
    "isParent": false, 
    "name": "全国居民消费价格分类指数(上年同月=100)", 
    "pId": "A0101"
  }, 
  ……
~~~

### API3，四级目录
~~~python
api3 = 'http://data.stats.gov.cn/quotas/getchildren'
#code来自上级目录
payload = {'code':'A010101', 'levle':3, 'dbcode':'hgyd', 'dimension':'zb'}
r = requests.get(url = api1, params=payload)
print printjson(r.json())
~~~

~~~json

[
  {
    "ename": "居民消费价格指数(上年同月=100)", 
    "id": "A01010101", 
    "ifData": "1", 
    "isParent": true, 
    "name": "居民消费价格指数(上年同月=100)", 
    "pId": "A010101"
  }, 
  ……
~~~
 
### API4，指标解释
~~~python
api4 = 'http://data.stats.gov.cn/workspace/expindex'
#code来自API3
payload = {'code':'A01010101', 'dbcode':'hgyd'}
r = requests.get(url = api4, params=payload)
from StringIO import StringIO
from lxml import etree
tree = etree.parse(StringIO(r.text))
p = tree.xpath('//*[@id="tip"]/text()')
print p[0]
~~~

~~~text
居民消费价格指数是反映一定时期内城乡居民所购买的生活消费品和服务项目价格变动趋势和程度的相对数，是对城市居民消费价格指数和农村居民消费价格指数进行综合汇总计算的结果。通过该指数可以观察和分析消费品的零售价格和服务项目价格变动对城乡居民实际生活费支出的影响程度。
~~~

### API5，数据查询
~~~python
api5 = 'http://data.stats.gov.cn/workspace/index'
payload = {'a':'l', 
           'region':'000000',
           'selectId':'000000',
           'third':'region',
           'm':'hgyd', 
           'time':'-1,201308', 
           'index':'A01010101,A01010102,A01010103,A01010104,A01010105,A01010106,A01010107,A01010108,A01010109'}
r = requests.get(url = api5, params=payload)
print printjson(r.json())
~~~
    
~~~json

{
  "tableData": {
    "A01010101_000000_201308": "102.6", 
    "A01010101_000000_201309": "103.1", 
    "A01010101_000000_201310": "103.2", 
    "A01010101_000000_201311": "103.0", 
    "A01010101_000000_201312": "102.5", 
    "A01010101_000000_201401": "102.5", 
    "A01010101_000000_201402": "102.0", 
    "A01010101_000000_201403": "102.4", 
    "A01010101_000000_201404": "101.8", 
    "A01010101_000000_201405": "102.5", 
    "A01010101_000000_201406": "102.3", 
    "A01010101_000000_201407": "102.3", 
    "A01010101_000000_201408": "", 
    "A01010102_000000_201308": "104.7", 
    "A01010102_000000_201309": "106.1", 
    "A01010102_000000_201310": "106.5", 
    "A01010102_000000_201311": "105.9", 
    "A01010102_000000_201312": "104.1", 
    "A01010102_000000_201401": "103.7", 
    "A01010102_000000_201402": "102.7", 
    "A01010102_000000_201403": "104.1", 
    "A01010102_000000_201404": "102.3", 
    "A01010102_000000_201405": "104.1", 
    "A01010102_000000_201406": "103.7", 
    "A01010102_000000_201407": "103.6", 
    "A01010102_000000_201408": "", 
    "A01010103_000000_201308": "100.0", 
    "A01010103_000000_201309": "99.8", 
    "A01010103_000000_201310": "99.8", 
    "A01010103_000000_201311": "99.8", 
    "A01010103_000000_201312": "99.6", 
    "A01010103_000000_201401": "99.3", 
    "A01010103_000000_201402": "99.3", 
    "A01010103_000000_201403": "99.3", 
    "A01010103_000000_201404": "99.4", 
    "A01010103_000000_201405": "99.4", 
    "A01010103_000000_201406": "99.4", 
    "A01010103_000000_201407": "99.4", 
    "A01010103_000000_201408": "", 
    "A01010104_000000_201308": "102.2", 
    "A01010104_000000_201309": "102.3", 
    "A01010104_000000_201310": "102.4", 
    "A01010104_000000_201311": "102.0", 
    "A01010104_000000_201312": "102.1", 
    "A01010104_000000_201401": "101.9", 
    "A01010104_000000_201402": "102.2", 
    "A01010104_000000_201403": "102.3", 
    "A01010104_000000_201404": "102.3", 
    "A01010104_000000_201405": "102.5", 
    "A01010104_000000_201406": "102.6", 
    "A01010104_000000_201407": "102.6", 
    "A01010104_000000_201408": "", 
    "A01010105_000000_201308": "101.4", 
    "A01010105_000000_201309": "101.4", 
    "A01010105_000000_201310": "101.5", 
    "A01010105_000000_201311": "101.3", 
    "A01010105_000000_201312": "101.4", 
    "A01010105_000000_201401": "101.5", 
    "A01010105_000000_201402": "101.3", 
    "A01010105_000000_201403": "101.2", 
    "A01010105_000000_201404": "101.2", 
    "A01010105_000000_201405": "101.2", 
    "A01010105_000000_201406": "101.2", 
    "A01010105_000000_201407": "101.1", 
    "A01010105_000000_201408": "", 
    "A01010106_000000_201308": "101.2", 
    "A01010106_000000_201309": "101.1", 
    "A01010106_000000_201310": "101.0", 
    "A01010106_000000_201311": "101.0", 
    "A01010106_000000_201312": "100.9", 
    "A01010106_000000_201401": "101.1", 
    "A01010106_000000_201402": "101.0", 
    "A01010106_000000_201403": "101.2", 
    "A01010106_000000_201404": "101.2", 
    "A01010106_000000_201405": "101.2", 
    "A01010106_000000_201406": "101.3", 
    "A01010106_000000_201407": "101.4", 
    "A01010106_000000_201408": "", 
    "A01010107_000000_201308": "100.0", 
    "A01010107_000000_201309": "99.8", 
    "A01010107_000000_201310": "99.4", 
    "A01010107_000000_201311": "99.5", 
    "A01010107_000000_201312": "99.9", 
    "A01010107_000000_201401": "100.2", 
    "A01010107_000000_201402": "99.6", 
    "A01010107_000000_201403": "99.6", 
    "A01010107_000000_201404": "100.1", 
    "A01010107_000000_201405": "100.6", 
    "A01010107_000000_201406": "100.6", 
    "A01010107_000000_201407": "100.7", 
    "A01010107_000000_201408": "", 
    "A01010108_000000_201308": "101.2", 
    "A01010108_000000_201309": "101.9", 
    "A01010108_000000_201310": "102.5", 
    "A01010108_000000_201311": "102.8", 
    "A01010108_000000_201312": "102.9", 
    "A01010108_000000_201401": "103.3", 
    "A01010108_000000_201402": "102.1", 
    "A01010108_000000_201403": "102.1", 
    "A01010108_000000_201404": "102.0", 
    "A01010108_000000_201405": "102.1", 
    "A01010108_000000_201406": "102.1", 
    "A01010108_000000_201407": "102.1", 
    "A01010108_000000_201408": "", 
    "A01010109_000000_201308": "102.6", 
    "A01010109_000000_201309": "102.6", 
    "A01010109_000000_201310": "102.6", 
    "A01010109_000000_201311": "102.6", 
    "A01010109_000000_201312": "102.8", 
    "A01010109_000000_201401": "102.8", 
    "A01010109_000000_201402": "102.8", 
    "A01010109_000000_201403": "102.5", 
    "A01010109_000000_201404": "102.4", 
    "A01010109_000000_201405": "102.3", 
    "A01010109_000000_201406": "102.2", 
    "A01010109_000000_201407": "102.0", 
    "A01010109_000000_201408": ""
  }, 
  "value": {
    "index": [
      {
        "ename": null, 
        "enote": "", 
        "eunit": null, 
        "id": "A01010101", 
        "name": "居民消费价格指数(上年同月=100)", 
        "note": "居民消费价格八大类在2000年及以前不含服务项目，2000年及以前服务项目为单列大类。", 
        "unit": null
      }, 
      {
        "ename": null, 
        "enote": "", 
        "eunit": null, 
        "id": "A01010102", 
        "name": "食品类居民消费价格指数(上年同月=100)", 
        "note": "居民消费价格八大类在2000年及以前不含服务项目，2000年及以前服务项目为单列大类。", 
        "unit": null
      }, 
      {
        "ename": null, 
        "enote": "", 
        "eunit": null, 
        "id": "A01010103", 
        "name": "烟酒及用品类居民消费价格指数(上年同月=100)", 
        "note": "居民消费价格八大类在2000年及以前不含服务项目，2000年及以前服务项目为单列大类。", 
        "unit": null
      }, 
      {
        "ename": null, 
        "enote": "", 
        "eunit": null, 
        "id": "A01010104", 
        "name": "衣着类居民消费价格指数(上年同月=100)", 
        "note": "居民消费价格八大类在2000年及以前不含服务项目，2000年及以前服务项目为单列大类。", 
        "unit": null
      }, 
      {
        "ename": null, 
        "enote": "", 
        "eunit": null, 
        "id": "A01010105", 
        "name": "家庭设备用品及维修服务类居民消费价格指数(上年同月=100)", 
        "note": "居民消费价格八大类在2000年及以前不含服务项目，2000年及以前服务项目为单列大类。", 
        "unit": null
      }, 
      {
        "ename": null, 
        "enote": "", 
        "eunit": null, 
        "id": "A01010106", 
        "name": "医疗保健和个人用品类居民消费价格指数(上年同月=100)", 
        "note": "居民消费价格八大类在2000年及以前不含服务项目，2000年及以前服务项目为单列大类。", 
        "unit": null
      }, 
      {
        "ename": null, 
        "enote": "", 
        "eunit": null, 
        "id": "A01010107", 
        "name": "交通和通讯类居民消费价格指数(上年同月=100)", 
        "note": "居民消费价格八大类在2000年及以前不含服务项目，2000年及以前服务项目为单列大类。", 
        "unit": null
      }, 
      {
        "ename": null, 
        "enote": "", 
        "eunit": null, 
        "id": "A01010108", 
        "name": "娱乐教育文化用品及服务类居民消费价格指数(上年同月=100)", 
        "note": "居民消费价格八大类在2000年及以前不含服务项目，2000年及以前服务项目为单列大类。", 
        "unit": null
      }, 
      {
        "ename": null, 
        "enote": "", 
        "eunit": null, 
        "id": "A01010109", 
        "name": "居住类居民消费价格指数(上年同月=100)", 
        "note": "居民消费价格八大类在2000年及以前不含服务项目，2000年及以前服务项目为单列大类。", 
        "unit": null
      }
    ], 
    "region": [
      {
        "ename": "全国", 
        "id": "000000", 
        "name": "全国"
      }
    ], 
    "time": [
      {
        "id": "201408", 
        "name": "201408"
      }, 
      {
        "id": "201407", 
        "name": "201407"
      }, 
      {
        "id": "201406", 
        "name": "201406"
      }, 
      {
        "id": "201405", 
        "name": "201405"
      }, 
      {
        "id": "201404", 
        "name": "201404"
      }, 
      {
        "id": "201403", 
        "name": "201403"
      }, 
      {
        "id": "201402", 
        "name": "201402"
      }, 
      {
        "id": "201401", 
        "name": "201401"
      }, 
      {
        "id": "201312", 
        "name": "201312"
      }, 
      {
        "id": "201311", 
        "name": "201311"
      }, 
      {
        "id": "201310", 
        "name": "201310"
      }, 
      {
        "id": "201309", 
        "name": "201309"
      }, 
      {
        "id": "201308", 
        "name": "201308"
      }
    ]
  }
}
~~~

